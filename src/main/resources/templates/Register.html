<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register</title>
  <style>
    /* Основен стил за тялото на страницата */
    body {
      font-family: Arial, sans-serif; /* Шрифт на текста */
      background-color: #f4f4f4; /* Светъл фон на страницата */
      display: flex; /* Използва Flexbox за подравняване на формата */
      justify-content: center; /* Центрира формата по хоризонтала */
      align-items: center; /* Центрира формата по вертикала */
      height: 100vh; /* Височина на страницата за да запълни целия екран */
      margin: 0; /* Премахва стандартните маргини на body */
    }

    /* Основен стил за заглавието */
    h2 {
      color: #333; /* Тъмен цвят на заглавието */
      margin-bottom: 20px; /* Разстояние под заглавието */
      font-size: 2em; /* Размер на шрифта на заглавието */
    }

    /* Основен стил за формата */
    form {
      background-color: #ffffff; /* Бел фон на формата */
      border-radius: 8px; /* Заоблени краища на формата */
      padding: 20px; /* Padding около формата */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Лека сянка за 3D ефект */
      max-width: 400px; /* Максимална ширина на формата */
      width: 100%; /* Ширина на формата за по-добра отзивчивост */
    }

    /* Стил за етикетите */
    form label {
      display: block; /* Показва етикета на нов ред */
      margin-bottom: 5px; /* Разстояние под етикетите */
      color: #333; /* Тъмен цвят на текста */
      font-weight: bold; /* Дебел шрифт за етикетите */
    }

    /* Стил за текстовите полета */
    form input[type="text"],
    form input[type="password"] {
      width: calc(100% - 22px); /* Ширина на полето, като се вземе предвид padding */
      padding: 10px; /* Padding в полето */
      margin-bottom: 15px; /* Разстояние под полето */
      border: 1px solid #ddd; /* Лека граница около полето */
      border-radius: 4px; /* Заоблени краища на полето */
      box-sizing: border-box; /* Включва padding и border в ширината на полето */
    }

    /* Стил за грешките */
    form label.error {
      color: #dc3545; /* Червен цвят за грешките */
      font-size: 0.9em; /* Размер на шрифта на грешките */
      margin-bottom: 15px; /* Разстояние под грешките */
    }

    form input[type="file"] {
      margin-bottom: 15px;
    }

    .profile-photo-container {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 20px;
    }

    .profile-photo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: #ddd;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .profile-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }


    /* Стил за бутона за изпращане */
    form input[type="submit"] {
      background-color: #007bff; /* Син фон на бутона */
      color: #ffffff; /* Бял текст на бутона */
      padding: 10px 20px; /* Padding в бутона */
      border: none; /* Без граница на бутона */
      border-radius: 4px; /* Заоблени краища на бутона */
      font-size: 1em; /* Размер на шрифта в бутона */
      cursor: pointer; /* Курсор при посочване на бутона */
      transition: background-color 0.3s ease; /* Плавен преход при промяна на цвета */
      width: 100%; /* Ширина на бутона, за да запълни формата */
    }

    /* Стил за бутона при ховър */
    form input[type="submit"]:hover {
      background-color: #0056b3; /* По-тъмен син цвят при ховър */
    }
  </style>
</head>
<body>


<form action="#" th:action="@{/auth/register}" th:object="${register}" method="post" enctype="multipart/form-data">

  <div class="profile-photo-container">
    <div class="profile-photo">
      <img id="profilePhotoPreview" src="DefaultAvatar.jpg" alt="Default Profile Photo">
    </div>
  </div>

  <input type="file" th:field="*{profilePhoto}" accept="image/jpeg" onchange="previewProfilePhoto(event)"/>
  <label class="error" th:errors="*{profilePhoto}">Profile photo error placeholder</label>

  <label th:text="#{user.label.username}">Username</label>
  <input type="text" th:field="*{username}"/>
  <label class="error" th:errors="*{username}">Username error placeholder</label>

  <label th:text="#{user.label.password}">Password</label>
  <input type="password" th:field="*{password}"/>
  <label class="error" th:errors="*{password}">Password error placeholder</label>

  <label th:text="#{user.label.passwordConfirm}">Confirm Password</label>
  <input type="password" th:field="*{passwordConfirm}"/>
  <label class="error" th:errors="*{passwordConfirm}">Confirm Password error placeholder</label>

  <label th:text="#{user.label.firstName}">First Name</label>
  <input type="text" th:field="*{firstName}"/>
  <label class="error" th:errors="*{firstName}">First Name error placeholder</label>

  <label th:text="#{user.label.lastName}">LastName</label>
  <input type="text" th:field="*{lastName}"/>
  <label class="error" th:errors="*{lastName}">Last Name error placeholder</label>

  <label th:text="#{user.label.email}">Email</label>
  <input type="text" th:field="*{email}"/>
  <label class="error" th:errors="*{email}">Email error placeholder</label>

  <input type="submit" value="Register"/>
</form>

<script>
  function previewProfilePhoto(event) {
    const reader = new FileReader();
    reader.onload = function() {
      const output = document.getElementById('profilePhotoPreview');
      output.src = reader.result;
    };
    reader.readAsDataURL(event.target.files[0]);
  }
</script>

</body>
</html>